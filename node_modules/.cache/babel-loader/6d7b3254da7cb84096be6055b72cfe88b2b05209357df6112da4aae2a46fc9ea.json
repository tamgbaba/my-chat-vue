{"ast":null,"code":"import '@/views/modules/chat/css/messageBox.css';\nexport default {\n  data() {\n    return {\n      userData: {},\n      message: ''\n    };\n  },\n  created() {\n    this.getUserIp();\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    getUserIp() {\n      this.$http.get(`/chat/ip/address`).then(({\n        data\n      }) => {\n        this.userData = data.data;\n      }).catch(() => {});\n    },\n    init() {\n      if (typeof WebSocket == 'undefined') {\n        //判断当前浏览器是否支持websocket\n        alert(\"当前浏览器不支持websocket，请求更换浏览器\");\n      }\n      console.log(\"支持WebSocket\");\n      let socketUrl = \"\" + this.userData.getUserIp;\n    }\n  }\n};","map":{"version":3,"names":["data","userData","message","created","getUserIp","mounted","init","methods","$http","get","then","catch","WebSocket","alert","console","log","socketUrl"],"sources":["src/views/modules/chat/messageBox.vue"],"sourcesContent":["<template>\r\n  <el-container style=\"height: 100%\">\r\n    <!-- 顶部操作栏 -->\r\n    <el-header>###</el-header>\r\n    <!-- 主页面 -->\r\n    <el-main style=\"height: 100%\">\r\n      <div class=\"chat-box\">\r\n        <div class=\"chat-left\"></div>\r\n        <div class=\"chat-right\">\r\n          <div class=\"input-chat-box\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>\r\n                {{\r\n                  '当前ip:  ' +\r\n                  userData.userIp +\r\n                  '::' +\r\n                  userData.province +\r\n                  userData.city\r\n                }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"output-chat-box\">\r\n            <el-input\r\n            class=\"input-chat\"\r\n              minlength=\"1000\"\r\n              type=\"textarea\"\r\n              :rows=\"8\"\r\n              show-word-limit\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"message\"\r\n            >\r\n            </el-input>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-main>\r\n    <!-- 底部页面 -->\r\n    <el-footer>###</el-footer>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport '@/views/modules/chat/css/messageBox.css'\r\nexport default {\r\n  data() {\r\n    return {\r\n      userData: {},\r\n      message: '',\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getUserIp()\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    getUserIp() {\r\n      this.$http\r\n        .get(`/chat/ip/address`)\r\n        .then(({ data }) => {\r\n          this.userData = data.data\r\n        })\r\n        .catch(() => {})\r\n    },\r\n    init(){\r\n      if(typeof(WebSocket)=='undefined'){ //判断当前浏览器是否支持websocket\r\n          alert(\"当前浏览器不支持websocket，请求更换浏览器\")\r\n      }\r\n      console.log(\"支持WebSocket\")\r\n      let socketUrl = \"\"+this.userData.getUserIp;\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style></style>\r\n"],"mappings":"AA2CA;AACA;EACAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAH,UAAA;MACA,KAAAI,KAAA,CACAC,GAAA,qBACAC,IAAA;QAAAV;MAAA;QACA,KAAAC,QAAA,GAAAD,IAAA,CAAAA,IAAA;MACA,GACAW,KAAA;IACA;IACAL,KAAA;MACA,WAAAM,SAAA;QAAA;QACAC,KAAA;MACA;MACAC,OAAA,CAAAC,GAAA;MACA,IAAAC,SAAA,aAAAf,QAAA,CAAAG,SAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}